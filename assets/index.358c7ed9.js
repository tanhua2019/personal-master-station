import{d as k,F as w,h as z,a as i,v,E as c,b as h,c as _}from"./validate.7d47b83c.js";import{O as V,A as y,ai as P,g as b,r as C,o as E,a as R,i as e,k as s,j as x,u as a,a5 as N,l as T}from"./index.ea741418.js";const U={class:"relative h-screen bg-white dark:bg-zinc-800 text-center xl:bg-zinc-200"},A={class:"block px-3 mt-4 dark:bg-zinc-800 xl:bg-white xl:w-[388px] xl:dark:bg-zinc-900 xl:m-auto xl:mt-8 xl:py-4 xl:rounded-sm xl:shadow-lg"},F=s("h3",{class:"mb-2 font-semibold text-base text-main dark:text-zinc-300 hidden xl:block"}," \u6CE8\u518C\u8D26\u53F7 ",-1),B=s("div",{class:"text-center"},[s("a",{class:"text-zinc-400 dark:text-zinc-600 hover:text-zinc-600 dark:hover:text-zinc-400 text-sm duration-400",href:"https://m.imooc.com/newfaq?id=89",target:"__black"}," \u6CE8\u518C\u5373\u540C\u610F\u300A\u6155\u8BFE\u7F51\u6CE8\u518C\u534F\u8BAE\u300B ")],-1),S=T(" \u7ACB\u5373\u6CE8\u518C "),O={__name:"index",setup(q){const l=V(),u=y(),m=P();k("validateConfirmPassword",_);const p=()=>{l.commit("app/changeRouterType","push"),u.push("/login")},t=b({username:"",password:"",confirmPassword:""}),n=b(!1);console.log(m);const f=async()=>{n.value=!0;try{const d={username:t.value.username,password:t.value.password};await l.dispatch("user/register",{...d,...m.query}),await l.dispatch("user/login",{...d,loginType:N})}finally{n.value=!1}u.push("/")};return(d,o)=>{const g=C("m-button");return E(),R("div",U,[e(z),s("div",A,[F,e(a(w),{onSubmit:f},{default:x(()=>[e(a(i),{class:"dark:bg-zinc-800 dark:text-zinc-400 border-b-zinc-400 border-b-[1px] w-full outline-0 pb-1 px-1 text-base focus:border-b-main dark:focus:border-b-zinc-200 xl:dark:bg-zinc-900",name:"username",type:"text",placeholder:"\u7528\u6237\u540D",autocomplete:"on",rules:a(v),modelValue:t.value.username,"onUpdate:modelValue":o[0]||(o[0]=r=>t.value.username=r)},null,8,["rules","modelValue"]),e(a(c),{class:"text-sm text-red-600 block mt-0.5 text-left",name:"username"}),e(a(i),{class:"dark:bg-zinc-800 dark:text-zinc-400 border-b-zinc-400 border-b-[1px] w-full outline-0 pb-1 px-1 text-base focus:border-b-main dark:focus:border-b-zinc-200 xl:dark:bg-zinc-900",name:"password",type:"password",placeholder:"\u5BC6\u7801",autocomplete:"on",rules:a(h),modelValue:t.value.password,"onUpdate:modelValue":o[1]||(o[1]=r=>t.value.password=r)},null,8,["rules","modelValue"]),e(a(c),{class:"text-sm text-red-600 block mt-0.5 text-left",name:"password"}),e(a(i),{class:"dark:bg-zinc-800 dark:text-zinc-400 border-b-zinc-400 border-b-[1px] w-full outline-0 pb-1 px-1 text-base focus:border-b-main dark:focus:border-b-zinc-200 xl:dark:bg-zinc-900",name:"confirmPassword",type:"password",placeholder:"\u786E\u8BA4\u5BC6\u7801",autocomplete:"on",rules:"validateConfirmPassword:@password",modelValue:t.value.confirmPassword,"onUpdate:modelValue":o[2]||(o[2]=r=>t.value.confirmPassword=r)},null,8,["modelValue"]),e(a(c),{class:"text-sm text-red-600 block mt-0.5 text-left",name:"confirmPassword"}),s("div",{class:"pt-1 pb-3 leading-[0px] text-right"},[s("div",{class:"mb-2"},[s("a",{class:"inline-block p-1 text-zinc-400 text-right dark:text-zinc-600 hover:text-zinc-600 dark:hover:text-zinc-400 text-sm duration-400 cursor-pointer",target:"__black",onClick:p}," \u53BB\u767B\u5F55 ")]),B]),e(g,{class:"w-full dark:bg-zinc-900 xl:dark:bg-zinc-800",isActiveAnim:!1,loading:n.value},{default:x(()=>[S]),_:1},8,["loading"])]),_:1})])])}}};export{O as default};
